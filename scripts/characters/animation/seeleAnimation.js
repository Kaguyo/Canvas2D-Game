const seeleIdleImg1 = new Image();
seeleIdleImg1.src = "../../assets/models/characters/Seele/SeeleIdle1.png";
const seeleIdleImg2 = new Image();
seeleIdleImg2.src = "../../assets/models/characters/Seele/SeeleIdle2.png";
const seeleIdleImg3 = new Image();
seeleIdleImg3.src = "../../assets/models/characters/Seele/SeeleIdle3.png";
const seeleIdleImg4 = new Image();
seeleIdleImg4.src = "../../assets/models/characters/Seele/SeeleIdle4.png";

const seeleIdleImg1Reversed = new Image();
seeleIdleImg1Reversed.src = "../../assets/models/characters/Seele/SeeleIdle1Reversed.png";
const seeleIdleImg2Reversed = new Image();
seeleIdleImg2Reversed.src = "../../assets/models/characters/Seele/SeeleIdle2Reversed.png";
const seeleIdleImg3Reversed = new Image();
seeleIdleImg3Reversed.src = "../../assets/models/characters/Seele/SeeleIdle3Reversed.png";
const seeleIdleImg4Reversed = new Image();
seeleIdleImg4Reversed.src = "../../assets/models/characters/Seele/SeeleIdle4Reversed.png";

const seeleRunImg1 = new Image();
seeleRunImg1.src = "../../assets/models/characters/Seele/SeeleRun1.png";
const seeleRunImg2 = new Image();
seeleRunImg2.src = "../../assets/models/characters/Seele/SeeleRun2.png";
const seeleRunImg3 = new Image();
seeleRunImg3.src = "../../assets/models/characters/Seele/SeeleRun3.png";
const seeleRunImg4 = new Image();
seeleRunImg4.src = "../../assets/models/characters/Seele/SeeleRun4.png";

const seeleRunImg1Reversed = new Image();
seeleRunImg1Reversed.src = "../../assets/models/characters/Seele/SeeleRun1Reversed.png";
const seeleRunImg2Reversed = new Image();
seeleRunImg2Reversed.src = "../../assets/models/characters/Seele/SeeleRun2Reversed.png";
const seeleRunImg3Reversed = new Image();
seeleRunImg3Reversed.src = "../../assets/models/characters/Seele/SeeleRun3Reversed.png";
const seeleRunImg4Reversed = new Image();
seeleRunImg4Reversed.src = "../../assets/models/characters/Seele/SeeleRun4Reversed.png";

const seeleIdleArmedImg1 = new Image();
seeleIdleArmedImg1.src = "../../assets/models/characters/Seele/SeeleIdleArmed1.png";
const seeleIdleArmedImg1Reversed = new Image();
seeleIdleArmedImg1Reversed.src = "../../assets/models/characters/Seele/SeeleIdleArmed1Reversed.png";

const seeleActivatingUltDash1 = new Image();
seeleActivatingUltDash1.src = "../../assets/models/characters/Seele/ActivatingUltDash1.png";
const seeleActivatingUltDash2 = new Image();
seeleActivatingUltDash2.src = "../../assets/models/characters/Seele/ActivatingUltDash2.png";

const seeleActivatingUltDash1Reversed = new Image();
seeleActivatingUltDash1Reversed.src = "../../assets/models/characters/Seele/ActivatingUltDash1Reversed.png";
const seeleActivatingUltDash2Reversed = new Image();
seeleActivatingUltDash2Reversed.src = "../../assets/models/characters/Seele/ActivatingUltDash2Reversed.png";

const seeleUltEffect1 = new Image();
seeleUltEffect1.src = "../../assets/models/characters/Seele/UltEffect1.png";
const seeleUltEffect2 = new Image();
seeleUltEffect2.src = "../../assets/models/characters/Seele/UltEffect2.png";

const seeleUltEffect1Reversed = new Image();
seeleUltEffect1Reversed.src = "../../assets/models/characters/Seele/UltEffect1Reversed.png";
const seeleUltEffect2Reversed = new Image();
seeleUltEffect2Reversed.src = "../../assets/models/characters/Seele/UltEffect2Reversed.png";

const seeleUltWing1 = new Image();
seeleUltWing1.src = "../../assets/models/characters/Seele/UltWing1.png";
const seeleUltWing2 = new Image();
seeleUltWing2.src = "../../assets/models/characters/Seele/UltWing2.png";
const seeleUltWing3 = new Image();
seeleUltWing3.src = "../../assets/models/characters/Seele/UltWing3.png";
const seeleUltWing4 = new Image();
seeleUltWing4.src = "../../assets/models/characters/Seele/UltWing4.png";
const seeleUltWing5 = new Image();
seeleUltWing5.src = "../../assets/models/characters/Seele/UltWing5.png";
const seeleUltWing6 = new Image();
seeleUltWing6.src = "../../assets/models/characters/Seele/UltWing6.png";
const seeleUltWing7 = new Image();
seeleUltWing7.src = "../../assets/models/characters/Seele/UltWing7.png";
const seeleUltWing8 = new Image();
seeleUltWing8.src = "../../assets/models/characters/Seele/UltWing8.png";
const seeleUltWing9 = new Image();
seeleUltWing9.src = "../../assets/models/characters/Seele/UltWing9.png";
const seeleUltWing10 = new Image();
seeleUltWing10.src = "../../assets/models/characters/Seele/UltWing10.png";
const seeleUltWing11 = new Image();
seeleUltWing11.src = "../../assets/models/characters/Seele/UltWing11.png";
const seeleUltWing12 = new Image();
seeleUltWing12.src = "../../assets/models/characters/Seele/UltWing12.png";

const seeleUltWing1Reversed = new Image();
seeleUltWing1Reversed.src = "../../assets/models/characters/Seele/UltWing1Reversed.png";
const seeleUltWing2Reversed = new Image();
seeleUltWing2Reversed.src = "../../assets/models/characters/Seele/UltWing2Reversed.png";
const seeleUltWing3Reversed = new Image();
seeleUltWing3Reversed.src = "../../assets/models/characters/Seele/UltWing3Reversed.png";
const seeleUltWing4Reversed = new Image();
seeleUltWing4Reversed.src = "../../assets/models/characters/Seele/UltWing4Reversed.png";
const seeleUltWing5Reversed = new Image();
seeleUltWing5Reversed.src = "../../assets/models/characters/Seele/UltWing5Reversed.png";
const seeleUltWing6Reversed = new Image();
seeleUltWing6Reversed.src = "../../assets/models/characters/Seele/UltWing6Reversed.png";
const seeleUltWing7Reversed = new Image();
seeleUltWing7Reversed.src = "../../assets/models/characters/Seele/UltWing7Reversed.png";
const seeleUltWing8Reversed = new Image();
seeleUltWing8Reversed.src = "../../assets/models/characters/Seele/UltWing8Reversed.png";
const seeleUltWing9Reversed = new Image();
seeleUltWing9Reversed.src = "../../assets/models/characters/Seele/UltWing9Reversed.png";
const seeleUltWing10Reversed = new Image();
seeleUltWing10Reversed.src = "../../assets/models/characters/Seele/UltWing10Reversed.png";
const seeleUltWing11Reversed = new Image();
seeleUltWing11Reversed.src = "../../assets/models/characters/Seele/UltWing11Reversed.png";
const seeleUltWing12Reversed = new Image();
seeleUltWing12Reversed.src = "../../assets/models/characters/Seele/UltWing12Reversed.png";

class SeeleAnimation {
    static frame = new Image();

    static directionLeft = false;
    static directionRight = true;

    static idleAnimation = {
        reverseIndex : 0,
        breatheIn : true,
        breatheOut : false,
        index : 1,
        countIndexRepeated : 0
    };

    static idleArmedAnimation= {
        reverseIndex : 0,
        breatheIn : true,
        breatheOut : false,
        index : 1,
        countIndexRepeated : 0
    }

    static runningAnimation = {
        index : 1,
        countIndexRepeated : 0
    };
    
    static runningArmedAnimation = {
        index : 1,
        countIndexRepeated : 0
    };

    static ultimateAnimation = {
        index : 1,
        countIndexRepeated : 0,
        vfxSparkle : {
            image : new Image(),
            index : 1,
            countIndexRepeated : 0
        },
        vfxWing : {
            image : new Image(),
            index : 1,
            countIndexRepeated : 0
        },
        updateVFXSparkles : function(){
            let frame = new Image();

            if (this.vfxSparkle.index == 1) {
                this.vfxSparkle.countIndexRepeated += 1 * GameProperties.gameSpeed;
                if (this.vfxSparkle.countIndexRepeated >= 15){
                    this.vfxSparkle.countIndexRepeated = 0;
                    this.vfxSparkle.index = 2;
                }
                frame = SeeleAnimation.directionRight ? seeleUltEffect1 : seeleUltEffect1Reversed;
            } else if (this.vfxSparkle.index == 2) {
                this.vfxSparkle.countIndexRepeated += 1 * GameProperties.gameSpeed;
                if (this.vfxSparkle.countIndexRepeated >= 15){
                    this.vfxSparkle.countIndexRepeated = 0;
                    this.vfxSparkle.index = 1;
                }
                frame = SeeleAnimation.directionRight ? seeleUltEffect2 : seeleUltEffect2Reversed;
            }

            return frame;
        },
        updateVFXWing : function(){
            let frame = new Image();
            if (this.vfxWing.index == 1) {
                this.vfxWing.countIndexRepeated += 1 * GameProperties.gameSpeed;
                if (this.vfxWing.countIndexRepeated >= 5){
                    this.vfxWing.countIndexRepeated = 0;
                    this.vfxWing.index = 2;
                }
                frame = SeeleAnimation.directionRight ? seeleUltWing1 : seeleUltWing1Reversed;
            } else if (this.vfxWing.index == 2) {
                this.vfxWing.countIndexRepeated += 1 * GameProperties.gameSpeed;    
                if (this.vfxWing.countIndexRepeated >= 5){
                    this.vfxWing.countIndexRepeated = 0;
                    this.vfxWing.index = 3;
                }
                frame = SeeleAnimation.directionRight ? seeleUltWing2 : seeleUltWing2Reversed;
            } else if (this.vfxWing.index == 3) {
                this.vfxWing.countIndexRepeated += 1 * GameProperties.gameSpeed;
                if (this.vfxWing.countIndexRepeated >= 5){
                    this.vfxWing.countIndexRepeated = 0;
                    this.vfxWing.index = 4;
                }
                frame = SeeleAnimation.directionRight ? seeleUltWing3 : seeleUltWing3Reversed;
            } else if (this.vfxWing.index == 4) {
                this.vfxWing.countIndexRepeated += 1 * GameProperties.gameSpeed;
                if (this.vfxWing.countIndexRepeated >= 5){
                    this.vfxWing.countIndexRepeated = 0;
                    this.vfxWing.index = 5;
                }
                frame = SeeleAnimation.directionRight ? seeleUltWing4 : seeleUltWing4Reversed;
            } else if (this.vfxWing.index == 5) {
                this.vfxWing.countIndexRepeated += 1 * GameProperties.gameSpeed;
                if (this.vfxWing.countIndexRepeated >= 5){
                    this.vfxWing.countIndexRepeated = 0;
                    this.vfxWing.index = 6;
                }
                frame = SeeleAnimation.directionRight ? seeleUltWing5 : seeleUltWing5Reversed;
            } else if (this.vfxWing.index == 6) {
                this.vfxWing.countIndexRepeated += 1 * GameProperties.gameSpeed;
                if (this.vfxWing.countIndexRepeated >= 5){
                    this.vfxWing.countIndexRepeated = 0;
                    this.vfxWing.index = 7;
                }
                frame = SeeleAnimation.directionRight ? seeleUltWing6 : seeleUltWing6Reversed;
            } else if (this.vfxWing.index == 7) {
                this.vfxWing.countIndexRepeated += 1 * GameProperties.gameSpeed;        
                if (this.vfxWing.countIndexRepeated >= 5){
                    this.vfxWing.countIndexRepeated = 0;
                    this.vfxWing.index = 8;
                }
                frame = SeeleAnimation.directionRight ? seeleUltWing7 : seeleUltWing7Reversed;
            } else if (this.vfxWing.index == 8) {
                this.vfxWing.countIndexRepeated += 1 * GameProperties.gameSpeed;
                if (this.vfxWing.countIndexRepeated >= 5){
                    this.vfxWing.countIndexRepeated = 0;
                    this.vfxWing.index = 9;
                }
                frame = SeeleAnimation.directionRight ? seeleUltWing8 : seeleUltWing8Reversed;
            } else if (this.vfxWing.index == 9) {
                this.vfxWing.countIndexRepeated += 1 * GameProperties.gameSpeed;
                if (this.vfxWing.countIndexRepeated >= 5){
                    this.vfxWing.countIndexRepeated = 0;
                    this.vfxWing.index = 10;
                }
                frame = SeeleAnimation.directionRight ? seeleUltWing9 : seeleUltWing9Reversed;
            } else if (this.vfxWing.index == 10) {
                this.vfxWing.countIndexRepeated += 1 * GameProperties.gameSpeed;    
                if (this.vfxWing.countIndexRepeated >= 5){
                    this.vfxWing.countIndexRepeated = 0;
                    this.vfxWing.index = 11;
                }
                frame = SeeleAnimation.directionRight ? seeleUltWing10 : seeleUltWing10Reversed;
            } else if (this.vfxWing.index == 11) {
                this.vfxWing.countIndexRepeated += 1 * GameProperties.gameSpeed;
                if (this.vfxWing.countIndexRepeated >= 5){
                    this.vfxWing.countIndexRepeated = 0;
                    this.vfxWing.index = 12;
                }
                frame = SeeleAnimation.directionRight ? seeleUltWing11 : seeleUltWing11Reversed;
            } else if (this.vfxWing.index == 12) {
                this.vfxWing.countIndexRepeated += 1 * GameProperties.gameSpeed;
                if (this.vfxWing.countIndexRepeated >= 5){
                    this.vfxWing.countIndexRepeated = 0;
                    this.vfxWing.index = 1;
                    GameProperties.RestoreInitialState();
                }
                frame = SeeleAnimation.directionRight ? seeleUltWing12 : seeleUltWing12Reversed;
            }

            return frame;
        }
    };

    static animation = 1; // 1: idle, 2: running, 3: jumping, 4: crouch, 5: dash

    static updateFrame(character){
        SeeleAnimation.#handleInput();
        SeeleAnimation.#setAnimation();
        
        if (SeeleAnimation.animation == 1) {
            SeeleAnimation.frame = character.hasWeapon ? 
            SeeleAnimation.#handleIdleArmedAnimation() : 
            SeeleAnimation.#handleIdleAnimation();

        } else if (SeeleAnimation.animation == 2) {
            SeeleAnimation.frame = character.hasWeapon ?
            SeeleAnimation.#handleRunningArmedAnimation() :
            SeeleAnimation.#handleRunningAnimation() ;

        } else if (SeeleAnimation.animation == 6 && GameProperties.usingUltimate) {
            SeeleAnimation.frame = SeeleAnimation.#handleUltimateAnimation();
            
        }

        return SeeleAnimation.frame;
    }

    static #handleInput(){
        if (GameProperties.inputKeys.a) {
            SeeleAnimation.directionLeft = true;
            SeeleAnimation.directionRight = false;
        }
        else if (GameProperties.inputKeys.d) {
            SeeleAnimation.directionRight = true;
            SeeleAnimation.directionLeft = false;
        }
    }
    
    static #setAnimation() {
        if (GameProperties.usingUltimate )
            SeeleAnimation.animation = 6;
        else if (GameProperties.inputKeys.a || GameProperties.inputKeys.d)
            SeeleAnimation.animation = 2;
        else if (GameProperties.inputKeys.w)
            SeeleAnimation.animation = 3;
        else if (GameProperties.inputKeys.s)
            SeeleAnimation.animation = 4;
        else if (GameProperties.inputKeys.l)
            SeeleAnimation.animation = 5;
        else
            SeeleAnimation.animation = 1;
    }

    static #handleIdleAnimation() {
        let frame = new Image();

        if (SeeleAnimation.idleAnimation.index == 1) {
            SeeleAnimation.idleAnimation.countIndexRepeated += 1 * GameProperties.gameSpeed;
            if (SeeleAnimation.idleAnimation.countIndexRepeated >= 10){
                if (SeeleAnimation.idleAnimation.breatheIn == true)
                    SeeleAnimation.idleAnimation.reverseIndex = 0;
                SeeleAnimation.idleAnimation.countIndexRepeated = 0;
                SeeleAnimation.idleAnimation.index = 2 + SeeleAnimation.idleAnimation.reverseIndex;
                SeeleAnimation.idleAnimation.breatheIn = true;
                SeeleAnimation.idleAnimation.breatheOut = false;
            }
            frame = SeeleAnimation.directionRight ? seeleIdleImg1 : seeleIdleImg1Reversed;

        } else if (SeeleAnimation.idleAnimation.index == 2) {
            SeeleAnimation.idleAnimation.countIndexRepeated += 1 * GameProperties.gameSpeed;
            if (SeeleAnimation.idleAnimation.countIndexRepeated >= 10){
                SeeleAnimation.idleAnimation.countIndexRepeated = 0;
                SeeleAnimation.idleAnimation.index = 3 + SeeleAnimation.idleAnimation.reverseIndex; 
                if (SeeleAnimation.idleAnimation.breatheIn == false)
                    SeeleAnimation.idleAnimation.reverseIndex = -1;
            }
            frame = SeeleAnimation.directionRight ? seeleIdleImg2 : seeleIdleImg2Reversed;

        } else if (SeeleAnimation.idleAnimation.index == 3) {
            SeeleAnimation.idleAnimation.countIndexRepeated += 1 * GameProperties.gameSpeed;
            if (SeeleAnimation.idleAnimation.countIndexRepeated >= 10){
                if (SeeleAnimation.idleAnimation.breatheIn == false)
                    SeeleAnimation.idleAnimation.reverseIndex = -2;
                SeeleAnimation.idleAnimation.countIndexRepeated = 0;
                SeeleAnimation.idleAnimation.index = 4 + SeeleAnimation.idleAnimation.reverseIndex; 
            }
            frame = SeeleAnimation.directionRight ? seeleIdleImg3 : seeleIdleImg3Reversed;

        } else if (SeeleAnimation.idleAnimation.index == 4) {
            SeeleAnimation.idleAnimation.countIndexRepeated += 1 * GameProperties.gameSpeed;
            if (SeeleAnimation.idleAnimation.countIndexRepeated >= 12) {
                SeeleAnimation.idleAnimation.countIndexRepeated = 0;
                SeeleAnimation.idleAnimation.index = 4 + SeeleAnimation.idleAnimation.reverseIndex; 
                if (SeeleAnimation.idleAnimation.breatheIn == false)
                    SeeleAnimation.idleAnimation.reverseIndex = -1;
                SeeleAnimation.idleAnimation.breatheIn = false;
                SeeleAnimation.idleAnimation.breatheOut = true;
                
            }
            frame = SeeleAnimation.directionRight ? seeleIdleImg4 : seeleIdleImg4Reversed;

        }       

        return frame;
    }

    static #handleIdleArmedAnimation() {
        let frame = new Image();
        if (SeeleAnimation.idleArmedAnimation.index == 1) {
            frame = SeeleAnimation.directionRight ? seeleIdleArmedImg1 : seeleIdleArmedImg1Reversed;
        }       
        
        return frame;
    }

    static #handleRunningAnimation(){
        let frame = new Image();
        if (SeeleAnimation.runningAnimation.index == 1) {
            SeeleAnimation.runningAnimation.countIndexRepeated += 1 * GameProperties.gameSpeed;
            if (SeeleAnimation.runningAnimation.countIndexRepeated >= 10){
                SeeleAnimation.runningAnimation.countIndexRepeated = 0;
                SeeleAnimation.runningAnimation.index = 2;
            }
            frame = SeeleAnimation.directionRight ? seeleRunImg2 : seeleRunImg2Reversed;

        } else if (SeeleAnimation.runningAnimation.index == 2) {
            SeeleAnimation.runningAnimation.countIndexRepeated += 1 * GameProperties.gameSpeed;
            if (SeeleAnimation.runningAnimation.countIndexRepeated >= 10){
                SeeleAnimation.runningAnimation.countIndexRepeated = 0;
                SeeleAnimation.runningAnimation.index = 3;
            }
            frame = SeeleAnimation.directionRight ? seeleRunImg3 : seeleRunImg3Reversed;

        } else if (SeeleAnimation.runningAnimation.index == 3) {
            SeeleAnimation.runningAnimation.countIndexRepeated += 1 * GameProperties.gameSpeed;
            if (SeeleAnimation.runningAnimation.countIndexRepeated >= 10){
                SeeleAnimation.runningAnimation.countIndexRepeated = 0;
                SeeleAnimation.runningAnimation.index = 4;
            }
            frame = SeeleAnimation.directionRight ? seeleRunImg4 : seeleRunImg4Reversed;

        } else if (SeeleAnimation.runningAnimation.index == 4) {
            SeeleAnimation.runningAnimation.countIndexRepeated += 1 * GameProperties.gameSpeed;
            if (SeeleAnimation.runningAnimation.countIndexRepeated >= 10){
                SeeleAnimation.runningAnimation.countIndexRepeated = 0;
                SeeleAnimation.runningAnimation.index = 1;
            }
            frame = SeeleAnimation.directionRight ? seeleRunImg1 : seeleRunImg1Reversed;

        }

        return frame;
    }

    static #handleRunningArmedAnimation(){
        let frame = new Image();

    }

    static #handleUltimateAnimation(){
        let frame = new Image();

        if (SeeleAnimation.ultimateAnimation.index == 1) {
            SeeleAnimation.ultimateAnimation.countIndexRepeated += 1 * GameProperties.gameSpeed;
            if (SeeleAnimation.ultimateAnimation.countIndexRepeated >= 30){
                SeeleAnimation.ultimateAnimation.countIndexRepeated = 0;
                SeeleAnimation.ultimateAnimation.index = 2;
            }
            frame = SeeleAnimation.directionRight ? seeleActivatingUltDash1 : seeleActivatingUltDash1Reversed;

        } else if (SeeleAnimation.ultimateAnimation.index == 2) {
            SeeleAnimation.ultimateAnimation.countIndexRepeated += 1 * GameProperties.gameSpeed;
            if (SeeleAnimation.ultimateAnimation.countIndexRepeated >= 50){
                SeeleAnimation.ultimateAnimation.countIndexRepeated = 0;
            }
            frame = SeeleAnimation.directionRight ? seeleActivatingUltDash2 : seeleActivatingUltDash2Reversed;
        }

        return frame;
    }
}   